import understand
from qt import QtConcurrency

def name():
  return "Qt Thread Entry Points"

def description():
  return '''
Find functions that are probably run on another thread with Qt threading mechanisms

<p>This plugin identifies functions in your codebase that are likely executed on separate threads using Qt's 
threading mechanisms. It focuses on functions passed to QtConcurrent functions and run overloads of QThread and QRunnable. 
By mapping these functions, the plugin helps you visualize and understand the potential concurrency in your Qt application.</p>
<br>
<b>Example Qt Threading Architecture with Treemap:</b><br>
<img src=".doc/QtThreading.png">
'''

def build(arch, db):
  for ent in QtConcurrency(db).thread_entry_points():
    arch.add(ent)
